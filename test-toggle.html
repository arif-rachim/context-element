<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <script src="src/index.ts"></script>
</head>
<body>
<data-element>
    <div class="default" class.disabled.toggle="disabled" class.enabled.toggle="enabled">Toggle Me</div>
    <button action="SET_ENABLED">Enabled</button>
    <button action="SET_DISABLED">Disabled</button>
    <button action="SET_DEFAULT">Default</button>
</data-element>
</body>
<script>
    const STATE_PROPERTY = '@state';
    const dataElement = document.getElementsByTagName('data-element')[0];
    dataElement.data = {};
    dataElement.reducer = (state, action) => {

        switch (action.type) {
            case 'SET_ENABLED' : {
                return {...state, [STATE_PROPERTY]: 'enabled'}
            }
            case 'SET_DISABLED' : {
                return {...state, [STATE_PROPERTY]: 'disabled'}
            }
            case 'SET_DEFAULT' : {
                const newState = {...state};
                delete newState[STATE_PROPERTY];
                return newState;
            }
            default : {
                return {...state}
            }
        }

    }
</script>
</html>
